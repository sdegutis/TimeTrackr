<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>TimeTrackr</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <!-- UIkit -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.5.4/dist/css/uikit.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.4/dist/js/uikit.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.5.4/dist/js/uikit-icons.min.js"></script>
</head>

<body>
  <div id="root"></div>
  <script type="module">
    import { React, ReactDOM, html } from './util/deps.js';
    import { FlatRouter } from './util/router.js';

    const Landing = React.lazy(() => import('./pages/landing.js'));
    const Login = React.lazy(() => import('./pages/login.js'));
    const SignUp = React.lazy(() => import('./pages/signup.js'));
    const NotFound = React.lazy(() => import('./pages/notfound.js'));

    const Loading = html`<div uk-spinner="ratio: 3"></div>`;

    const App = /** @type {React.FC} */(() => {
      return html`
        <${FlatRouter} loading=${Loading} routes=${{
          '/login': Login,
          '/signup': SignUp,
          '/': Landing,
          '': NotFound,
        }}/>
      `;
    });

    ReactDOM.render(
      React.createElement(App),
      document.getElementById('root')
    );
  </script>
</body>

</html>
